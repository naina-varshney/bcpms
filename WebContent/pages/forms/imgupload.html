<!DOCTYPE html>
<html style="height: auto;"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>BCPMS| ImageUpload</title>
  <!--Tell the browser to be responsive to screen width  -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!--Font Awesome  -->
  <link rel="stylesheet" href="../../plugins/fontawesome-free/css/all.min.css">
  
  <!--Theme style  -->
  <link rel="stylesheet" href="../../dist/css/adminlte.min.css">
   <style>
      body:not(.sidebar-mini-md) .content-wrapper, body:not(.sidebar-mini-md) .main-footer, body:not(.sidebar-mini-md) .main-header {
    transition: margin-left .3s ease-in-out;
    margin-left: 0px;
}
  </style>
</head>
<body class="hold-transition sidebar-mini">
   <!-- Site wrapper --> 
    <div class="wrapper">
        <!--Content Wrapper. Contains page content  -->
  <div class="content-wrapper" style="min-height: 1246.8px;">
   <!-- Content Header (Page header)  -->
    <section class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1>Image Upload</h1>
          </div>
          
        </div>
      </div>
      <!-- /.container-fluid -->
    </section>

   <!--Main content  --> 
    <section class="content">
      <div class="container-fluid">
        <div class="row">
         <!--  left column -->
    <div class="col-md-3">
    </div>
          <div class="col-md-6">
           <!-- general form elements  -->
            <div class="card card-primary">
            
             <!-- /.card-header
              form start --> 
                     <form id="fileUploadForm">
                      <!--card header  -->  
                            <div class="card-header">
                                <h3 class="card-title"><b>Upload New Image</b></h3>
          </div>
         <!-- /.card-header --> 
        <div class="card-body">
            <div class="row">
              <div class="col-md-12">
				   <div class="form-group">
                    <label>Purpose</label>
                  <select class="form-control select2bs4" id="imgpurpose" style="width: 100%;" required>
                    <option selected="selected" required>Select*</option>
                    <option>AdminDashboard</option>
                    <option>CoordinatorDashboard</option>
                   <option>TeacherDashboard</option>
                   <option>StudentDashboard</option>
                  </select>
                    
                </div>  
                       <div class="form-group">
                    <label for="exampleInputFile">File input</label>
                    <div class="input-group">
                      <div class="custom-file">
                        <input type="file" name="image" accept="image/jpeg" class="custom-file-input" id="file_name">
                        <label class="custom-file-label" for="exampleInputFile">Choose file</label>
                      </div>
                      <div class="input-group-append">
                        <span class="input-group-text" id="">Upload</span>
                      </div>
                    </div>
                  </div>
               <!--/.form-group  --> 
              </div>
              <!--/.col  -->
            </div>
           <!-- /.row --> 
        </div>
           <!-- footer --> 
            <div class="card-footer">   
        <button type="submit" class="btn btn-primary" id="uploadFileBtn" >Submit</button>
		<button class="btn btn-default float-right">Cancel</button>
            </div>   
                 </form>   
            </div>
          </div>
          <!-- /.card  --> 
          </div>
        </div>
        <!-- /.row -->
      </div>
      <!--/.container-fluid  -->
    </section>
        </div>
   
   <!--./wrapper  --> 

    <!--jQuery  -->
    <script src="../../plugins/jquery/jquery.min.js"></script>
   <!-- Bootstrap 4  -->
    <script src="../../plugins/bootstrap/js/bootstrap.bundle.min.js"></script>

    <script src="../../dist/js/adminlte.min.js"></script>

    <script src="../../dist/js/demo.js"></script>
      <!-- bs-custom-file-input  --> 
    <script src="../../plugins/bs-custom-file-input/bs-custom-file-input.min.js"></script>

<script>
$(document).ready(function () {
	  bsCustomFileInput.init();
	});
</script>
<script>
$(document).ready(function(){
	$('#uploadFileBtn').click(function(event){
		
		event.preventDefault();
		var form=$('#fileUploadForm')[0];
		var data=new FormData(form);
		var data = new FormData();
		data.append("purpose_field",$('#imgpurpose').children("option:selected").val());
		data.append("hello","hi");
		 for(var value of data.values()){
			console.log(value);
		}
		 
		/* $('#uploadFileBtn').prop("disabled",true); */
		$.ajax({
				type:"POST",
				/* enctype:'multipart/formdata', */
				url: "http://localhost:9090/BCPMS/pages/forms/imgupload.jsp",
				data:data,
				processData: false,
				contentType: 'multipart/form-data',
				cache: false,
				mimeType: 'multipart/form-data'
				/* success: function(data){
				
				} */
		})
		
	})
	
	
	
	
	
	
	
})
	
</script>
</body>
</html>

 
 
<!-- <form action="http://localhost:9090/BCPMS/pages/forms/imgupload.jsp" method="post" enctype="multipart/form-data">
<input type="file" name="fname"/><br/>
<input type="submit">
</form> -->